'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var types = require('./types.js');

function getMimeTypeFromFilename(filename) {
  const extension = getFileExtension(filename.toLowerCase());

  switch (extension) {
    case 'csv':
      return types.MimeType.Csv;

    case 'gif':
      return types.MimeType.Gif;

    case 'glb':
      return types.MimeType.Glb;

    case 'm3u8':
      return types.MimeType.Hls;

    case 'html':
      return types.MimeType.Html;

    case 'jpg':
    case 'jpeg':
      return types.MimeType.Jpeg;

    case 'js':
      return types.MimeType.Js;

    case 'json':
      return types.MimeType.Json;

    case 'mov':
      return types.MimeType.Mov;

    case 'mp4':
      return types.MimeType.Mp4;

    case 'webm':
      return types.MimeType.Webm;

    case 'pdf':
      return types.MimeType.Pdf;

    case 'png':
      return types.MimeType.Png;

    case 'txt':
      return types.MimeType.Text;

    case 'usdz':
      return types.MimeType.Usdz;

    case 'zip':
      return types.MimeType.Zip;

    case 'webp':
      return types.MimeType.Webp;

    case 'heic':
      return types.MimeType.Heic;

    case 'svg':
      return types.MimeType.Svg;
  }
}

function getFileExtension(filename) {
  const match = /(?:\.([^.]+))?$/.exec(filename);

  if (match) {
    return match[1];
  }
}

exports.getMimeTypeFromFilename = getMimeTypeFromFilename;
